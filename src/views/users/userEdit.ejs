<!DOCTYPE html>
<html lang="en">

    <!-- LLAMO AL HEAD DE PARTIALS-->

    <%- include('../partials/head', { title: 'Creación de usuario'}) %>

<body>

    <!-- LLAMO AL HEADER DE PARTIALS-->

    <%- include('../partials/header') %> 

 
    <main>
        
        <!-- FORMULARIO DE REGISTRACION -->

        <div class="register-container">

              <!-- TITULO DEL REGISTRO-->

             
              
              
              <form action="/users/update/<%= user.id %>" method="POST" enctype="multipart/form-data">

                <div class="registration-title"> Modificá los datos del Usuario: <strong style="color: green"> <%= user.name %> </strong></div>
              
               <!-- CAMPOS A MODIFICAR DEL NOMBRE Y APELLIDO -->
                          
                <div class="field">
                  <label for="name">Nombre:</label>
                  <input type="text" name="name" id="name"  minlenght="1" value="<%= user.name %>" class="input">
                </div>
            
            
                <div class="field">
                  <label for="surname">Apellido:</label>
                  <input type="text" name="surname" id="surname"  minlenght="1" value="<%= user.surname %>" class="input">
                </div>
            
                <!-- CAMPOS A MODIFICAR DEL SEXO, FECHA DE NACIMIENTO, E-MAIL, ROL DEL USUARIO -->
   
               
                <div class="field">
                  <label for="sex">Sexo:</label>
                  <select name="sexId" class="input" >
                    <% for ( let i = 0; i < allSexes.length; i++) { %> 
                      <% if ( allSexes[i].id == user.sexId ) { %> 
                      <option value="<%= allSexes[i].id %>" selected>
                        <%= allSexes[i].sex %>
                      </option>
                      <% } else { %>
                        <option value="<%= allSexes[i].id %>">
                          <%= allSexes[i].sex %>
                        </option>
                      <% } %>
                      
                     <% } %> 
                  </select>
                </div> 


                <div class="field">
                  <label for="birthDate">Fecha de nacimiento </label>
                  <input type="date" name="birthDate" id="birthDate" value="<%= user.birthDate %>" class="input">     
                </div>
            
                <div class="field">
                  <label for="email">Correo electrónico:</label>
                  <input type="email" name="email" id="email" value="<%= user.email %>" class="input" >
                </div>
              
               
                <div class="field">
                  <label for="role">Rol:</label>
                  <select name="roleId" class="input" >
                    <% for ( let i = 0; i < allSexes.length; i++) { %> 
                      <% if ( allRoles[i].id == user.roleId ) { %> 
                      <option value="<%= allRoles[i].id %>" selected>
                        <%= allRoles[i].role %>
                      </option>
                      <% } else { %>
                        <option value="<%= allRoles[i].id %>">
                          <%= allRoles[i].role %>
                        </option>
                      <% } %>
                      
                     <% } %> 
                  </select>
                </div>  

                <!-- CAMPOS A MODIFICAR DE IMAGEN  -->
              
                <div class="field">
                  <label for = "newProductImage">Imagen de Usuario:</label>
                  <input type="file" name="editedUserImage" class="input color-white">
                </div>
  
               <!--  <div class="field">
                  <label for="password">Contraseña:</label>
                  <input type="password" name="password" id="password" required  minlenght="1" class="input">
                </div>
                
                <div class="field">
                  <label for="repeatPassword">Repetir contraseña:</label>
                  <input type="password" name="repeatPassword" id="repeatPassword" required  minlenght="1" class="input">
                </div> -->
              

                 
                 <!-- BOTONES PARA INGRESAR, CANCELAR REGISTRO Y LISTADO DE USUARIOS-->
                
                <div class="login-cancel-button">

                  <button type="submit" required class="registration-button">Ingresar</button>
              
                  <button type="reset" required class="registration-button">Cancelar</button>
                
                  <a class="login-button" href="/users/list">Listado de usuarios</a>

                </div>   
                
              </form>
        
        </div>
         
    </main>
   
    <!-- LLAMO AL FOOTER DE PARTIALS-->

    <%- include('../partials/footer') %> 

    
</body>

</html>